<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dagger | Home</title>
    <link rel="stylesheet" href="/static/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body
    style="
      background-image: url('/static/images/picture.webp');
      background-size: cover;
      background-repeat: no-repeat;
      background-attachment: fixed;
      rgba
    "
  >
    <div class="slice-overlay" id="slice-overlay"></div>

    <div class="container">
      <div id="header">
        <h1>DAGGER</h1>
        <p>Slice through fraud with our AI-powered detection software</p>
      </div>

      <!-- Wrap all the forms inside one single form -->
      <form id="inputForm" action="/graphs" method="POST">
        <div class="form-container">
          <div class="form-group">
            <label for="input1">Client Name</label>
            <input type="text" id="input1" name="input1" required />
          </div>
          <div class="form-group">
            <label for="input2">Withdrawal Amount</label>
            <input type="text" id="input2" name="input2" required />
          </div>
          <div class="form-group">
            <label for="input3">Time (24 hours)</label>
            <input type="text" id="input3" name="input3" required />
          </div>
          <div class="form-group">
            <label for="input4">Distance From Home</label>
            <input type="text" id="input4" name="input4" required />
          </div>
        </div>

        <!-- Submit Button -->
        <div id="button-container">
          <button
            type="submit"
            class="custom-file-upload"
            onclick="startSliceAnimation(event)"
          >
            Go to Graphs
          </button>
        </div>
      </form>
    </div>

    <script>
      // Start the slice animation and transition to the next page
      function startSliceAnimation(event) {
        event.preventDefault(); // Prevent the form from submitting immediately

        // Start the slice animation
        const overlay = document.getElementById("slice-overlay");
        overlay.classList.add("active");

        // Submit the form after the animation completes (0.8s)
        setTimeout(() => {
          document.getElementById("inputForm").submit(); // Submit the form after animation
        }, 800); // Match this delay with animation duration
      }
    </script>
  </body>
</html>
